<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>Historia Operacji - Magazyn</title>
</head>
<body class="history-page">
    <header>
        <div class="header-content">
            <h1>Dziennik Operacji</h1>
            <nav>
                <a href="/" class="btn-secondary">Powrót do strony głównej</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <section class="filter-section">
            <form action="/historia/" method="get" class="filter-form">
                <div class="input-group">
                    <label for="line_from">Od (nr wpisu):</label>
                    <input type="number" id="line_from" name="f_start" placeholder="0" min="0" required>
                </div>
                <div class="input-group">
                    <label for="line_to">Do (nr wpisu):</label>
                    <input type="number" id="line_to" name="f_koniec" placeholder="{{ max_len }}" min="0" required>
                </div>
                <button type="submit" class="btn-filter">Filtruj Zakres</button>
                <a href="/historia/" class="btn-clear">Pokaż wszystko</a>
            </form>
        </section>

        <div class="info-bar">
            <p>{{ info }}</p>
        </div>

        <section class="table-container">
            {% if not historia %}
                <div class="no-data">Brak wpisów w podanym zakresie lub historia jest pusta.</div>
            {% else %}
                <table class="history-table">
                    <thead>
                        <tr>
                            <th style="width: 80px;">Nr</th>
                            <th>Treść operacji</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for wpis in historia %}
                        <tr>
                            <td class="row-num">{{ loop.index0+ start }}</td>
                            <td class="row-content">{{ wpis.wpis }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% endif %}
        </section>
    </main>
</body>
</html>